<!DOCTYPE html>
<html lang="en">
<head>
<meta name="description" content="延时提示2">
	<meta charset="UTF-8">
	<title>Document</title>.
  <link rel="stylesheet" href="plugin.css">
  <script src="jquery-1.10.2.js"></script>
  <script src="angular.min.js"></script>
  <script src="city.js"></script>
  <script src="plugin.js"></script>
  <script>
  	
  	$(document).ready(function(){
  		

  	});
    var mainApp=angular.module("mainApp",["qui"]);
    mainApp.controller("mainController", function ($rootScope,$http,$location,$scope) {
         $scope.provinces =$(provinceCitys).map(function(){
            return {id:this.name,name:this.name,sub:this.sub};
         });
         $scope.citys;
         console.log($scope.provinces);
         $scope.$watch("selectprovinceitem",function()
         {
            $scope.selectcity="";
            $($scope.provinces).each(function(){
                if(this==$scope.selectprovinceitem){
                    $scope.citys=$(this.sub).map(function(){
                        return {id:this.name,name:this.name,sub:this.sub};
                    });
                };
            });
         });
         $scope.initdata = "四川";
    });
    
  </script>

<style>

</style>
</head>
<body ng-app="mainApp">

	<div ng-controller="mainController" id="mainController">


	    <input    ng-model="cccccc"  qdropdownselect  data-initdata="initdata"  data-dropdowndata="provinces"    style="width:200px;"/>
	    
	    <div  id="aaaa"  autocomplete="off" class="qdropdownselecttarget" qdropdownselect  data-initdata="initdata" data-dropdowndata="provinces"  ng-model="selectprovinceitem"  style="width:200px;">
	        <input    ng-model="selectprovinceitem.id" />
	    </div>
	    
	    <div  id="bbbb" autocomplete="off" class="qdropdownselecttarget" qdropdownselect   data-dropdowndata="citys"  ng-model="selectcityitem"  style="width:200px;" >
	        <input    ng-model="selectcityitem.id" />
	    </div>


	</div>


</body>
</html>